import{_ as h}from"./app.154f9ac4.js";import{e as x,u as y,r as n,f as b,o as k,b as U,d as o,h as C,t as N,i as B,k as p}from"./vendor.462f42b9.js";var i={};const P={class:"text-4xl"},j=o("h1",null,"Upload to S3",-1),w=o("div",{class:"py-4"},null,-1),S=["disabled"],T=[".value"],V=x({setup(q){const d=y(),c=n(!1),u=n(),_=n(),s=n(),l=n(),f=()=>{p.put(u.value,s.value,{headers:{"Content-Type":s.value.type},onUploadProgress:e=>{l.value=Math.round(e.loaded/e.total*100)}}).then(e=>{console.log(e),d.push("/")}).catch(e=>{console.log(e)})},{t:m}=b(),v=e=>{s.value=e[0];const a={contentType:e[0].type,fileName:e[0].name};p.post("https://cen7l2mcx6.execute-api.us-east-1.amazonaws.com/stage/echo",a).then(t=>{console.log(t),u.value=t.data.url,_.value=t.data.fileName,c.value=!0,l.value=0}).catch(t=>{console.log(t)})};return(e,a)=>{const t=h;return k(),U("div",null,[o("p",P,[C(t,{class:"inline-block"})]),j,w,o("input",{id:"input",type:"file",autocomplete:"false",p:"x-4 y-2",w:"250px",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none",onChange:a[0]||(a[0]=g=>{var r;return v((r=g.target)==null?void 0:r.files)})},null,32),o("div",null,[o("button",{class:"m-3 text-sm btn",disabled:!c.value,onClick:f},N(B(m)("button.upload")),9,S)]),o("div",null,[o("progress",{max:"100",".value":l.value},null,8,T)])])}}});typeof i=="function"&&i(V);export{V as default};
