import{_ as h}from"./app.5a9aec41.js";import{e as x,u as y,r as a,f as b,o as k,b as U,d as o,h as C,t as N,j,l as r}from"./vendor.c1e2d14e.js";var d={};const B={class:"text-4xl"},P=o("h1",null,"Upload to S3",-1),w=o("div",{class:"py-4"},null,-1),S=["disabled"],T=[".value"],V=x({setup(q){const i=y(),c=a(!1),u=a(),_=a(),s=a(),l=a(),m=()=>{r.put(u.value,s.value,{headers:{"Content-Type":s.value.type},onUploadProgress:e=>{l.value=Math.round(e.loaded/e.total*100)}}).then(e=>{console.log(e),i.push("/")}).catch(e=>{console.log(e)})},{t:v}=b(),f=e=>{s.value=e[0];const n={contentType:e[0].type,fileName:e[0].name};r.post("https://cen7l2mcx6.execute-api.us-east-1.amazonaws.com/stage/echo",n).then(t=>{console.log(t),u.value=t.data.url,_.value=t.data.fileName,c.value=!0,l.value=0}).catch(t=>{console.log(t)})};return(e,n)=>{const t=h;return k(),U("div",null,[o("p",B,[C(t,{class:"inline-block"})]),P,w,o("input",{id:"input",type:"file",autocomplete:"false",accept:".mp4",p:"x-4 y-2",w:"250px",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none",onChange:n[0]||(n[0]=g=>{var p;return f((p=g.target)==null?void 0:p.files)})},null,32),o("div",null,[o("button",{class:"m-3 text-sm btn",disabled:!c.value,onClick:m},N(j(v)("button.upload")),9,S)]),o("div",null,[o("progress",{max:"100",".value":l.value},null,8,T)])])}}});typeof d=="function"&&d(V);export{V as default};
